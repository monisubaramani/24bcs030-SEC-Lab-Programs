<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /* promise
        promise in a javascript is an object that repesents the eventual completion(failure) 
        of an asynchronous operation and its resulting value..
        It has 3 possible states:
        pendding->initial state,operation not completed yet.
        fulfilled(Resolved)->operation completed successfully
        Rejected->operation failed.*/
        let TicketBooking =new Promise((resolve,reject)=>{
            let booking=false;
            if(booking)
            resolve()
        else
        reject()

        })
        .then(success)
        .catch(failure)
        function success(){
         console.log("your ticket is conformed");
        }
        function failure(){
        console.log("no seats availability")
        }
        let tossCoin=new Promise((resolve,reject)=>{
            let rand=Math.floor(Math.random()*2);
            if(rand==0)
             resolve(rand)
            else
             reject(rand)

        })
        .then((rand)=>console.log(`you won ${rand}`))
        .catch((rand)=>console.log(`you lose ${rand}`))

        async function Send(){
            return "Msg sended"
        }
        console.log(Send())
        function placeOrder(){
          return new Promise((resolve)=>{
            console.log("try to placing your order")
            setTimeout(() => {
                resolve("your order placed")
            }, 2000);
          })
        }
        async function trackDelivery(){
             let steps=[
                "preparing your order",
                "prepaerd and picked up by delivery partner",
                "on the way to deliver your order",
                "order delivered"

             ]
             for(let step of steps){
                await new Promise((res)=>setTimeout(res,2000))
                console.log(step);

             }
        }
        async function orderStatus(){
            const Status=await placeOrder()
            console.log(Status)
            trackDelivery()

        }
        orderStatus()
    </script>
</body>
</html>